<!--
The episode list, shown when the user visits the homepage and views more
than the first 10 episodes.
-->

<header class="masthead" style="background-color: {{ podcast_banner_colour }}; background-image: url('{{ podcast_banner_image }}')">
  <div class="overlay"></div>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-10 mx-auto">
        <div class="site-heading">
          <h1>{{ podcast_name }}</h1>
          <span class="subheading">{{ podcast_subtitle }}</span>

          <ul class="list-inline text-center list-subscription-links">
            {{# each subscription_links }}
              <li class="list-inline-item">
                <a href="{{ link_url }}" title="{{ link_title }}" target="_blank">
                  <img src="{{ link_icon }}" />
                </a>
              </li>
            {{/ each }}
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>

<div class="container">
  <div class="row">
    <div class="col-lg-8 col-md-10 mx-auto">
      {{# each page_obj.object_list }}
        {{# if @index }}<hr />{{/ if }}
        <div class="post-preview">
          {{{ button }}}
          <h2 class="post-title">
            <a href="{{ share_url }}">{{ title }}</a>
          </h2>
          <a href="{{ share_url }}">
            <h3 class="post-subtitle">
              {{# exists subtitle }}{{ subtitle }}{{ else }}{{ summary }}{{/ exists }}
            </h3>
          </a>
          {{# exists published }}
            <p class="post-meta">
              Published on {{ date published ../theme_options.date_format }}
            </p>
          {{/ exists }}
        </div>
      {{/ each }}

      <!--
      If there are any more episodes to view, add previous/next page links and a
      range of buttons linking to individual pages
      -->
      <div class="clearfix">
        {{# if page_obj.has_previous }}
          <a class="btn btn-primary float-left" href="?page={{ page_obj.previous_page_number }}">&larr; {{ theme_options.string_episode_list_next }}</a>
        {{/ if }}

        {{# if page_obj.has_next }}
          <a class="btn btn-primary float-right" href="?page={{ page_obj.next_page_number }}">{{ theme_options.string_episode_list_prev }} &rarr;</a>
        {{/ if }}
      </div>
    </div>
  </div>
</div>
