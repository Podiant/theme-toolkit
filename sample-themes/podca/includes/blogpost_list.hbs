<!-- The blog template, shown when the user visits the blog -->

<!-- Add a top section with the word "Blog" -->
<section class="site-blocks-cover overlay inner-page-cover"{{# if podcast_banner_image }} style="background-image: url('{{ podcast_banner_image }}');"{{/ if }} data-stellar-background-ratio="0.5">
  <div class="container">
    <div class="row align-items-center justify-content-center text-center">
      <div class="col-md-8" data-aos="fade-up" data-aos-delay="400">
        <h2 class="text-white font-weight-light mb-2 display-4">{{ strings.blog }}</h2>
      </div>
    </div>
  </div>
</section>

<main id="main" class="site-section bg-light">
  <div class="container">
    <!-- Loop through the posts in the blog -->
    {{# each page_obj.object_list }}
      <div class="d-block d-md-flex podcast-entry bg-white mb-5">
        <!-- Add a blog post image, if one exists -->
        <div class="image"{{# exists image }} style="background-image: url('{{ image }}');"{{/ exists }}></div>
        <div class="text">
          <!-- Not all blog posts need a title. Only show this section if a title is set -->
          {{# exists title }}
            <h3 class="font-weight-light">
              <!--
              Link to the blog post. If the post is a link post, open the link in
              a new window (that's what the {{ target }} bit is about, and it's fine
              that there's no space between the " and {{ target }}.)
              -->
              <a href="{{ link_url }}{{# unless target }}#main{{/ unless }}"{{{ target }}}>{{ title }}</a>
            </h3>
          {{/ exists }}

          <div class="mb-3">
            <!-- Show the published date of the blog post -->
            <span class="text-black-opacity-05">
              <small>{{ date published ../theme_options.date_format }}</small>
            </span>
          </div>

          <!-- Show the blog post excerpt -->
          <p class="mb-4">{{ summary }}</p>
        </div>
      </div>
    {{/ each }}
  </div>

  <!--
  Show pagination links for moving back and forth in sets of 10
  posts per page
  -->
  {{# if page_obj.has_next_or_previous }}
    <div class="container">
      <div class="row">
        <div class="col-md-12 text-center">
          <div class="site-block-27">
            <ul>
              {{# each paginator.page_range }}
                <li>
                  <a href="?page={{ number }}#main">{{ number }}</a>
                </li>
              {{/ each }}
            </ul>
          </div>
        </div>
      </div>
    </div>
  {{/ if }}
</main>
