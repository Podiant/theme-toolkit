<!-- The guest template, shown when a user visits a guest's page -->

<!-- Add a top section with the name of the guest -->
<section class="site-blocks-cover overlay inner-page-cover"{{# if podcast_banner_image }} style="background-image: url('{{ podcast_banner_image }}');"{{/ if }} data-stellar-background-ratio="0.5">
  <div class="container">
    <div class="row align-items-center justify-content-center text-center">
      <div class="col-md-8" data-aos="fade-up" data-aos-delay="400">
        <h2 class="text-white font-weight-light mb-2 display-4">{{ object.title }}</h2>
      </div>
    </div>
  </div>
</section>

{{# with object }}
  <main id="main" class="container site-section">
    <div class="row justify-content-center">
      <div class="col-md-7">
        {{# if image }}
          <!-- If the guest has a photo, show it on the left-hand side -->
          <div class="media">
            <img class="mr-3" src="{{ image }}" style="max-width: 25%;" />
            <div class="media-body">
              <!-- Show the guest's bio -->
              {{{ description }}}
            </div>
          </div>
        {{ else }}
          <!-- Show the guest's bio on its own (if there is no photo) -->
          {{{ description }}}
        {{/ if }}

        <p class="mt-3">
          {{# each links }}
            <!-- Loop through the guest's links and show an icon for each one -->
            <a href="{{ link_url }}" class="p-2" target="_blank" rel="noreferrer">
              {{{ link_icon }}}
            </a>
          {{/ each }}
        </p>
      </div>
    </div>
  </main>

  <div class="site-section bg-light">
    <div class="container">
      <div class="row mb-5">
        <div class="col-md-12 text-center">
          <!-- Write the words "Episodes [guest name] has appeared in" -->
          <h2 class="font-weight-bold text-black">{{ tokenize ../theme_options.string_guest_episodes 'name' title }}</h2>
        </div>
      </div>
      <div class="row">
        <!--
        Create a number of half-size empty grid columns so that the number of
        episodes is always centred, even if there are fewer than 3 or the number
        of episodes is not a multiple of 3.
        -->

        {{# grid_offset episodes.length 3 }}
          <div class="col-md-3 col-lg-2 mb-5 mb-lg-5">&nbsp;</div>
        {{/ grid_offset }}

        <!-- Loop through the episodes the guest has appeared on -->
        {{# each episodes }}
          <div class="col-md-4">
            <div class="d-block podcast-entry bg-white mb-5" data-aos="fade-up">
              <!-- Show episode artwork -->
              <div class="image w-100" style="height: 300px; background-image: url('{{ episode_image }}');"></div>
              <div class="text w-100">
                <h3 class="font-weight-light">
                  <!-- Link to the episode -->
                  <a href="{{ episode_url }}#main">{{ episode_title }}</a>
                </h3>

                <!-- Show the episode summary -->
                <p class="mb-4">{{ episode_summary }}</p>
              </div>
            </div>
          </div>
        {{/ each }}
      </div>
    </div>
  </div>
{{/ with }}
