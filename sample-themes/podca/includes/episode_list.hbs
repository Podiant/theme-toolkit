<!--
The episode list, shown when the user visits the homepage and views more
than the first 10 episodes.
-->

<!-- Add a top section with the word "More episodes" -->
<section class="site-blocks-cover overlay inner-page-cover"{{# if podcast_banner_image }} style="background-image: url('{{ podcast_banner_image }}');"{{/ if }} data-stellar-background-ratio="0.5">
  <div class="container">
    <div class="row align-items-center justify-content-center text-center">
      <div class="col-md-8" data-aos="fade-up" data-aos-delay="400">
        <h2 class="text-white font-weight-light mb-2 display-4">{{ theme_options.string_more_episodes }}</h2>
      </div>
    </div>
  </div>
</section>

<main id="main" class="site-section bg-light">
  <div class="container">
    <!-- Loop through the episodes in the list -->
    {{# each page_obj.object_list }}
      <div class="d-block d-md-flex podcast-entry bg-white mb-5">
        <!-- Show episode artwork -->
        <div class="image"{{# exists image }} style="background-image: url('{{ image }}');"{{/ exists }}></div>
        <div class="text">
          <h3 class="font-weight-light">
            <!-- Link to the episode -->
            <a href="{{ share_url }}#main">{{ title }}</a>
          </h3>

          <div class="mb-3">
            <!-- Show the published date of the episode -->
            <span class="text-black-opacity-05">
              <small>{{ date published ../theme_options.date_format }}</small>
            </span>
          </div>

          <!-- Show the episode summary -->
          <p class="mb-4">{{ summary }}</p>

          <!-- Show the episode player -->
          <div class="player">{{{ mini_player }}}</div>
        </div>
      </div>
    {{/ each }}
  </div>

  <!--
  Show pagination links for moving back and forth in sets of 10
  episodes per page
  -->
  {{# if page_obj.has_next_or_previous }}
    <div class="container">
      <div class="row">
        <div class="col-md-12 text-center">
          <div class="site-block-27">
            <ul>
              {{# each paginator.page_range }}
                <li>
                  <a href="?page={{ number }}#main">{{ number }}</a>
                </li>
              {{/ each }}
            </ul>
          </div>
        </div>
      </div>
    </div>
  {{/ if }}
</main>
