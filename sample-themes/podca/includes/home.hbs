<!--
The homepage template, shown when the user is looking at the first 10 episodes
 of the podcast
-->

<!-- Add a top section with the title and publication date of the first episode -->
<section class="site-blocks-cover overlay"{{# if podcast_banner_image }} style="background-image: url('{{ podcast_banner_image }}');"{{/ if }} data-stellar-background-ratio="0.5">
  <div class="container">
    <div class="row align-items-center justify-content-center text-center">
      <div class="col-md-8">
        {{# with page_obj.first_object }}
          <h2 class="text-white font-weight-light mb-2 display-4">{{ title }}</h2>
          <div class="text-white mb-4">
            <!-- Show the published date of the episode -->
            <span class="text-white-opacity-05">
              <small>{{ date published ../theme_options.date_format }}</small>
            </span>
          </div>

          <!-- Show a "Read more" button linking to the episode -->
          <p>
            <a href="{{ share_url }}#main" class="btn btn-primary btn-sm py-3 px-4 small">{{ ../strings.read_more }}</a>
          </p>

          <!-- Show the episode player -->
          <div class="player">{{{ mini_player }}}</div>
        {{/ with }}
      </div>
    </div>
  </div>
</section>

<main id="main" class="site-section bg-light">
  <div class="container">
    <!-- Loop through the next 9 episodes -->
    {{# each page_obj.subsequent_objects }}
      {{# unless @index }}
        <!-- If this is the first item in the list, add a section header -->
        <div class="row mb-5">
          <div class="col-md-12 text-center">
            <h2 class="font-weight-bold text-black">{{ ../theme_options.string_more_episodes }}</h2>
          </div>
        </div>
      {{/ unless }}

      <div class="d-block d-md-flex podcast-entry bg-white mb-5">
        <!-- Show episode artwork -->
        <div class="image" style="background-image: url('{{ image }}');"></div>
        <div class="text">
          <h3 class="font-weight-light">
            <!-- Link to the episode -->
            <a href="{{ share_url }}#main">{{ title }}</a>
          </h3>

          <div class="mb-3">
            <!-- Show the published date of the episode -->
            <span class="text-black-opacity-05">
              <small>{{ date published ../theme_options.date_format }}</small>
            </span>
          </div>

          <!-- Show the episode summary -->
          <p class="mb-4">{{ summary }}</p>

          <!-- Show the episode player -->
          <div class="player">{{{ mini_player }}}</div>
        </div>
      </div>
    {{/ each }}
  </div>

  <!--
  Show pagination links for moving to the next set of 10 episodes
  -->
  {{# if page_obj.has_next }}
    <div class="container">
      <div class="row">
        <div class="col-md-12 text-center">
          <div class="site-block-27">
            <ul>
              {{# each paginator.page_range }}
                <li>
                  <a href="?page={{ number }}#main">{{ number }}</a>
                </li>
              {{/ each }}
            </ul>
          </div>
        </div>
      </div>
    </div>
  {{/ if }}
</main>

<!-- If host info has been added for the podcast, show it here -->
{{# exists hosts }}
  <section class="site-section">
    <div class="container">
      <div class="row mb-5">
        <div class="col-md-12 text-center">
          <!-- Write the words "Meet the host(s)", depending on the number of hosts added -->
          <h2 class="font-weight-bold text-black">{{ strings.hosts }}</h2>
        </div>
      </div>
      <div class="row">
        <!--
        Create a number of half-size empty grid columns so that the number of
        hosts is always centred, even if there are fewer than 3 or the number
        of hosts is not a multiple of 3.
        -->

        {{# grid_offset hosts.length 3 }}
          <div class="col-md-3 col-lg-2 mb-5 mb-lg-5">&nbsp;</div>
        {{/ grid_offset }}

        {{# each hosts }}
          <div class="col-md-6 col-lg-4 mb-5 mb-lg-5">
            <div class="team-member">
              <!-- Show the host's photo -->
              <img src="{{ host_image }}" alt="Image" class="img-fluid" style="width: 100%;">

              <div class="text">
                <!-- Show the host's name -->
                <h2 class="mb-2 font-weight-light h4">{{ host_name }}</h2>
                <p>
                  <!-- Add a list of host links with icons -->
                  {{# each host_links }}
                    <a href="{{ link_url }}" class="text-white p-2" target="_blank" rel="noreferrer">
                      <span class="fa fa-{{ link_class }}"></span>
                    </a>
                  {{/ each }}
                </p>
              </div>
            </div>
          </div>
        {{/ each }}
      </div>
    </div>
  </section>
{{/ exists }}
