<!--
The episode list, shown when the user visits the homepage and views more
than the first 10 episodes.
-->

<!-- Loop through the next 10 episodes -->
{{# each page_obj.subsequent_objects }}
  <div class="post-list-item">
    <hr />

    <!-- Show this section on tablet and desktop -->
    <div class="row hidden-xs">
      <div class="col-sm-2">
        <span class="datetime">
          <small class="text-muted">
            {{ ../theme_options.string_posted }}<br />
          </small>
          {{ date published ../theme_options.date_format }}
        </span>

        <!-- If in network mode, show the podcast artwork -->
        {{# unless ../is_podcast }}
          <a href="{{ podcast_url }}" title="{{ podcast_name }}">
            <img src="{{ podcast_image }}" width="30" class="pull-right" />
          </a>
        {{/ unless }}
      </div>

      <div class="col-sm-10">
        <div class="article">
          <!-- Link to the episode and show the title and subtitle -->
          <h2><a href="{{ share_url }}">{{ title }}</a></h2>

          <!-- Show a summary of the episode -->
          {{{ summary }}}
        </div>
      </div>
    </div>
    <!-- End tablet and desktop section -->

    <!-- Show this section on smartphones -->
    <div class="media visible-xs">
      <a class="pull-left" href="{{ share_url }}">
        <img class="media-object" src="{{ image }}" width="100" />
      </a>
      <div class="media-body">
        <h3 class="media-heading">
          <a href="{{ share_url }}">{{ title }}</a>
        </h3>

        <!-- Show a summary of the episode -->
        {{{ summary }}}
      </div>
    </div>
    <!-- End smartphone section -->
  </div>
{{/ each }}

<!--
If there are any more episodes to view, add previous/next page links and a range
of buttons linking to individual pages
-->
{{# if page_obj.has_next_or_previous }}
  <nav aria-label="Page navigation">
    <ul class="pagination">
      <li{{# unless page_obj.has_previous }} class="disabled"{{/ unless }}>
        <a{{# if page_obj.has_previous }} href="?page={{ page_obj.previous_page_number }}"{{/ if }} aria-label="Previous">
          <span aria-hidden="true">&laquo;</span>
        </a>
      </li>
      {{# each paginator.page_range }}
        <li{{# if selected }} class="active"{{/ if }}>
          <a href="?page={{ number }}">{{ number }}</a>
        </li>
      {{/ each }}
      <li{{# unless page_obj.has_next }} class="disabled"{{/ unless }}>
        <a{{# if page_obj.has_next }} href="?page={{ page_obj.next_page_number }}"{{/ if }} aria-label="Next">
          <span aria-hidden="true">&raquo;</span>
        </a>
      </li>
    </ul>
  </nav>
{{/ if }}
